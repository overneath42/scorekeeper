<VirtualHost *:80>
    ServerName your-domain.com
    # ServerAlias www.your-domain.com
    
    DocumentRoot /var/www/scorekeeper/current
    
    <Directory /var/www/scorekeeper/current>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
        
        # Handle client-side routing (SPA)
        FallbackResource /index.html
    </Directory>
    
    # Enable compression for better performance
    <IfModule mod_deflate.c>
        AddOutputFilterByType DEFLATE text/plain
        AddOutputFilterByType DEFLATE text/html
        AddOutputFilterByType DEFLATE text/xml
        AddOutputFilterByType DEFLATE text/css
        AddOutputFilterByType DEFLATE application/xml
        AddOutputFilterByType DEFLATE application/xhtml+xml
        AddOutputFilterByType DEFLATE application/rss+xml
        AddOutputFilterByType DEFLATE application/javascript
        AddOutputFilterByType DEFLATE application/x-javascript
    </IfModule>
    
    # Set cache headers for static assets
    <IfModule mod_expires.c>
        ExpiresActive On
        ExpiresByType text/css "access plus 1 month"
        ExpiresByType application/javascript "access plus 1 month"
        ExpiresByType image/png "access plus 1 month"
        ExpiresByType image/jpg "access plus 1 month"
        ExpiresByType image/jpeg "access plus 1 month"
        ExpiresByType image/gif "access plus 1 month"
        ExpiresByType image/svg+xml "access plus 1 month"
    </IfModule>
    
    ErrorLog ${APACHE_LOG_DIR}/scorekeeper_error.log
    CustomLog ${APACHE_LOG_DIR}/scorekeeper_access.log combined
</VirtualHost>

# HTTPS version (recommended - set up after basic deployment works)
# <VirtualHost *:443>
#     ServerName your-domain.com
#     DocumentRoot /var/www/scorekeeper/current
#     
#     SSLEngine on
#     SSLCertificateFile /path/to/your/certificate.crt
#     SSLCertificateKeyFile /path/to/your/private.key
#     
#     # Include same Directory and performance settings as above
# </VirtualHost>